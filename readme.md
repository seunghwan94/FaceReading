**Facial Feature-Based Physiognomy Analysis**

ì´ í”„ë¡œì íŠ¸ëŠ” `face_recognition` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì–¼êµ´ ëœë“œë§ˆí¬ë¥¼ ì¶”ì¶œí•˜ê³ , ë‹¤ì–‘í•œ ê±°ë¦¬Â·ë¹„ìœ¨Â·ê°ë„Â·ë©´ì Â·ëŒ€ì¹­ì„± ì§€í‘œë¥¼ ê³„ì‚°í•˜ì—¬ JSON í˜•íƒœë¡œ ë³€í™˜í•œ ë’¤, GPT APIì— ì „ë‹¬í•˜ì—¬ ê´€ìƒ ë¶„ì„ ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ëŠ” íŒŒì´í”„ë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸš€ ëª©ì°¨

1. [ì‚¬ì „ ì¤€ë¹„](#ì‚¬ì „-ì¤€ë¹„)
2. [ì„¤ì¹˜ ë° í™˜ê²½ êµ¬ì„±](#ì„¤ì¹˜-ë°-í™˜ê²½-êµ¬ì„±)
3. [ëœë“œë§ˆí¬ ì¶”ì¶œ ë° ì‹œê°í™”](#ëœë“œë§ˆí¬-ì¶”ì¶œ-ë°-ì‹œê°í™”)
4. [ë©”íŠ¸ë¦­ ê³„ì‚°](#ë©”íŠ¸ë¦­-ê³„ì‚°)
5. [JSON í¬ë§· ìƒì„±](#json-í¬ë§·-ìƒì„±)
6. [GPT í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿](#gpt-í”„ë¡¬í”„íŠ¸-í…œí”Œë¦¿)
7. [ì‹¤í–‰ ì˜ˆì‹œ](#ì‹¤í–‰-ì˜ˆì‹œ)
8. [ì£¼ì˜ì‚¬í•­ ë° íŒ](#ì£¼ì˜ì‚¬í•­-ë°-íŒ)

---

## 1. ì‚¬ì „ ì¤€ë¹„

* Python 3.7 ì´ìƒ
* ê°€ìƒí™˜ê²½(venv) ê¶Œì¥
* ì„¤ì¹˜ ë¶ˆê°€ëŠ¥ í™˜ê²½ì—ì„œëŠ” Mediapipe ë˜ëŠ” AWS Rekognition ëŒ€ì•ˆ ê³ ë ¤

---

## 2. ì„¤ì¹˜ ë° í™˜ê²½ êµ¬ì„±

> dlib ë¹Œë“œê°€ í•„ìš”í•˜ë¯€ë¡œ CMake ë° Visual C++ Build Tools(Windows) ì„¤ì¹˜ í•„ìˆ˜

[CMake ê³µì‹ ì‚¬ì´íŠ¸](https://cmake.org/download/)ì—ì„œ ì„¤ì¹˜

```bash
# Binary distributions : í™˜ê²½ì— ë§ê²Œ ì„¤ì¹˜ í›„ ì°ì–´ë³´ê¸°
cmake --version
```

```bash
# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pip install --upgrade pip
pip install face_recognition pillow
```



---

## 3. ëœë“œë§ˆí¬ ì¶”ì¶œ ë° ì‹œê°í™”

```python
import face_recognition
from PIL import Image, ImageDraw

# 1) ì´ë¯¸ì§€ ë¡œë“œ
image = face_recognition.load_image_file("test.jpg")

# 2) ëœë“œë§ˆí¬ ì¶”ì¶œ
landmarks_list = face_recognition.face_landmarks(image)

# 3) ì‹œê°í™”
pil_img = Image.fromarray(image)
draw = ImageDraw.Draw(pil_img)
for lm in landmarks_list:
    for feature in ["left_eye","right_eye","nose_bridge","nose_tip","top_lip","bottom_lip","chin"]:
        pts = lm[feature]
        draw.line(pts + [pts[0]], width=2)
pil_img.show()
```

---

## 4. ë©”íŠ¸ë¦­ ê³„ì‚°

ë‹¤ìŒ ì§€í‘œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤:

* **ê±°ë¦¬(Distances)**: ëˆˆ ì‚¬ì´ ê±°ë¦¬, ì½” ê¸¸ì´, ì… ë„ˆë¹„ ë“±
* **ë¹„ìœ¨(Ratios)**: ì–¼êµ´ í­/ë†’ì´ ëŒ€ë¹„ ë¹„ìœ¨
* **ê°ë„(Angles)**: ëˆˆ ì¶•, í„± ì„  ê¸°ìš¸ê¸° ë“±
* **ë©´ì (Areas)**: ëˆˆÂ·ì…ìˆ  ì˜ì—­ ë©´ì 
* **ëŒ€ì¹­ì„±(Symmetry)**: ì¢Œìš° ëŒ€ì¹­ ì˜¤ì°¨
* **ê³ ê¸‰ ì§€í‘œ(Advanced)**: ê³¨ë“ ë¹„ìœ¨ ì í•©ë„, Tì¡´ ì§€ìˆ˜, ì–¼êµ´ êµ¬ì—­ ë¹„ìœ¨

ìƒì„¸ ì½”ë“œëŠ” `metrics_extraction.py`ì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## 5. JSON í¬ë§· ìƒì„±

```json
{
  "face_size": { "width": 350, "height": 450 },
  "metrics": {
    "eye_distance": 0.25,
    "mouth_width": 0.40,
    "jaw_angle": -3.5,
    ...
  }
}
```

* ì •ê·œí™”ëœ ë¹„ìœ¨(0\~1) ë° ê°ë„(Â°)ë¡œ êµ¬ì„±
* GPTì— ì „ë‹¬í•˜ê¸° ìš©ì´í•œ ìŠ¤í‚¤ë§ˆ

---

## 6. GPT í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

```
ë‹¹ì‹ ì€ ê´€ìƒ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì•„ë˜ ì–¼êµ´ ë¹„ìœ¨ ì •ë³´ë¥¼ ì°¸ê³ í•˜ì—¬ ì„±ê²©Â·ê°•ì Â·ì•½ì ì„ 2~3ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

<FACE_DATA>
{
  "metrics": {
    "eye_distance": 0.25,
    "mouth_width": 0.40,
    "jaw_angle": -3.5,
    ...
  }
}
</FACE_DATA>
```

---

## 7. ì‹¤í–‰ ì˜ˆì‹œ

```bash
python extract_and_analyze.py --image test.jpg --output result.json
```

* `extract_and_analyze.py` ëŠ” ëœë“œë§ˆí¬ ì¶”ì¶œ, ë©”íŠ¸ë¦­ ê³„ì‚°, JSON ì¶œë ¥
* ì´í›„ GPT API í˜¸ì¶œ ìŠ¤í¬ë¦½íŠ¸ì™€ ì—°ë™

---

## 8. ì£¼ì˜ì‚¬í•­ ë° íŒ

* **ì •ë©´ ì‚¬ì§„ ê¶Œì¥**: ë¹„ìŠ¤ë“¬í•œ ê°ë„ëŠ” ì™œê³¡ ë°œìƒ
* **í”„ë¼ì´ë²„ì‹œ**: ë¯¼ê° ë°ì´í„°ì´ë¯€ë¡œ HTTPS/ì•”í˜¸í™” ì ìš©
* **ë©´ì±… ì¡°í•­**: ì˜¤ë½ìš© ë¶„ì„ì„ì„ ëª…ì‹œ
* **ëŒ€ì²´ ì†”ë£¨ì…˜**: ì„¤ì¹˜ ë¶ˆê°€ ì‹œ Mediapipe ë˜ëŠ” AWS Rekognition ì‚¬ìš©

---

ìœ„ READMEë¥¼ ì°¸ê³ í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ê³ , ì–¼êµ´ ì¢Œí‘œ ê¸°ë°˜ìœ¼ë¡œ GPT ê´€ìƒ ë¶„ì„ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ ë³´ì„¸ìš”!
